import { Version } from 'twa-core';
import { PopupParams } from './types';
import { PopupEventsMap } from './events';
import { SupportsFunc } from '../../utils';
import { BridgeLike } from '../../types';
/**
 * Controls currently displayed application popup. It allows developers to
 * open new custom popups and detect popup-connected events.
 */
export declare class Popup {
    private readonly bridge;
    private readonly ee;
    private _isOpened;
    constructor(bridge: BridgeLike, version: Version);
    private set isOpened(value);
    /**
     * Shows whether popup is currently opened.
     */
    get isOpened(): boolean;
    /**
     * Adds new event listener.
     */
    on: <E extends "openChanged">(event: E, listener: import("twa-core").EventListener<PopupEventsMap[E]>) => void;
    /**
     * Removes event listener.
     */
    off: <E extends "openChanged">(event: E, listener: import("twa-core").EventListener<PopupEventsMap[E]>) => void;
    /**
     * A method that shows a native popup described by the `params` argument.
     * Promise will be resolved when popup is closed. Resolved value will have
     * an identifier of pressed button.
     *
     * In case, user clicked outside the popup or clicked top right popup close
     * button, null will be returned.
     *
     * FIXME: In desktop, this function may work incorrectly.
     *  Issue: https://github.com/Telegram-Web-Apps/twa/issues/7
     * @param params - popup parameters.
     * @throws {Error} Popup is already opened.
     */
    open(params: PopupParams): Promise<string | null>;
    /**
     * Returns true in case, specified method is supported by current component
     * including Web Apps platform version.
     */
    supports: SupportsFunc<'open'>;
}
