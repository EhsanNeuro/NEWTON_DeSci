var TwaCore=function(r){"use strict";function t(r){return/^#[\da-f]{3}$/i.test(r)}function n(r){return/^#[\da-f]{6}$/i.test(r)}function e(r){var e=r.replace(/\s/g,"");if(n(e))return e;if(t(e)){for(var o="#",a=0;a<3;a++)o+=e[1+a].repeat(2);return o}var i=e.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||e.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(null===i)throw new SyntaxError('Value "'.concat(r,'" does not match any of known RGB formats.'));return i.slice(1).reduce((function(r,t){var n=parseInt(t).toString(16);return r+(1===n.length?"0":"")+n}),"#")}function o(r,t,n){if(n||2===arguments.length)for(var e,o=0,a=t.length;o<a;o++)!e&&o in t||(e||(e=Array.prototype.slice.call(t,0,o)),e[o]=t[o]);return r.concat(e||Array.prototype.slice.call(t))}var a=function(){function r(){this.listeners={},this.globalListeners=[]}return r.prototype.emit=function(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.globalListeners.forEach((function(n){return n.apply(void 0,o([r],t,!1))}));var e=this.listeners[r];void 0!==e&&e.forEach((function(r){return r.apply(void 0,t)}))},r.prototype.emitUnsafe=function(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.emit.apply(this,o([r],t,!1))},r.prototype.on=function(r,t){var n=this.listeners[r];void 0===n?this.listeners[r]=[t]:n.push(t)},r.prototype.off=function(r,t){var n=this.listeners[r];if(void 0!==n){var e=n.indexOf(t);e>=0&&n.splice(e,1)}},r.prototype.subscribe=function(r){this.globalListeners.push(r)},r.prototype.unsubscribe=function(r){var t=this.globalListeners.indexOf(r);t>=0&&this.globalListeners.splice(t,1)},r}();function i(r){return"object"==typeof r&&null!==r&&!Array.isArray(r)}var s=function(r){if("number"!=typeof r)throw new TypeError('Unable to parse "'.concat(r,'" as number'));return r},c=function(r){if("string"!=typeof r)throw new TypeError('Unable to parse "'.concat(r,'" as string'));return r},u=function(r){if("boolean"!=typeof r)throw new TypeError('Unable to parse "'.concat(r,'" as boolean'));return r},p=function(r){return e(c(r))};var f=function(r){if(null!==r&&""!==r){var t=parseInt(r),n=new Date(t.toString()===r?1e3*t:r);if("Invalid Date"!==n.toString())return n}throw new TypeError('Unable to parse value "'.concat(r,'" as Date'))};function l(r,t){for(var n=r.split("."),e=t.split("."),o=Math.max(n.length,e.length),a=0;a<o;a++){var i=parseInt(n[a]||"0"),s=parseInt(e[a]||"0");if(i!==s)return i>s?1:-1}return 0}return r.EventEmitter=a,r.compareVersions=l,r.createJsonStructParser=function(r,t){return function(n){if(null==n){if(void 0===t)throw new TypeError("Value is empty.");return t()}var e=n;if("string"==typeof e)try{e=JSON.parse(e)}catch(r){throw new TypeError("Value is not JSON object converted to string.")}if(!i(e))throw new TypeError("Value is not JSON object.");var o={};for(var a in r){var s=r[a],c=s[0],u=s[1];try{var p=u(e[c]);void 0!==p&&(o[a]=p)}catch(r){throw new Error('Unable to parse parameter "'.concat(c,'"'),{cause:r})}}return o}},r.createSearchParamsStructParser=function(r,t){return function(n){if(null==n){if(void 0===t)throw new TypeError("Value is empty.");return t()}if("string"!=typeof n&&!(n instanceof URLSearchParams))throw new TypeError("Value has unexpected type.");var e="string"==typeof n?new URLSearchParams(n):n,o={};for(var a in r){var i=r[a],s=i[0],c=i[1];try{var u=c(e.get(s));void 0!==u&&(o[a]=u)}catch(r){throw new Error('Unable to parse parameter "'.concat(s,'"'),{cause:r})}}return o}},r.isColorDark=function(r){return r=e(r),Math.sqrt([.299,.587,.114].reduce((function(t,n,e){var o=parseInt(r.slice(1+2*e,1+2*(e+1)),16);return t+o*o*n}),0))<120},r.isRGB=n,r.isRGBShort=t,r.isRecord=i,r.log=function(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var e=new Date,a=Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e),i=e.getMilliseconds().toString();console[r].apply(console,o(["[".concat(a,".").concat("0".repeat(3-i.length)+i,"]")],t,!1))},r.parseJsonParamAsBool=u,r.parseJsonParamAsNum=s,r.parseJsonParamAsOptBool=function(r){return void 0===r?void 0:u(r)},r.parseJsonParamAsOptNum=function(r){return void 0===r?null:s(r)},r.parseJsonParamAsOptRGB=function(r){return void 0===r?r:p(r)},r.parseJsonParamAsOptString=function(r){return void 0===r?r:c(r)},r.parseJsonParamAsRGB=p,r.parseJsonParamAsRecord=function(r){if(!i(r))throw new TypeError('Unable to parse "'.concat(r,'" as Record'));return r},r.parseJsonParamAsString=c,r.parseSearchParamAsDate=f,r.parseSearchParamAsOptDate=function(r){if(null!==r)return f(r)},r.parseSearchParamAsOptString=function(r){return null===r?void 0:r},r.parseSearchParamAsString=function(r){if(null===r)throw new TypeError('Unable to parse value "'.concat(r,'" as string.'));return r},r.requireVersion=function(r,t){if(-1===l(t,r))throw new Error('Version "'.concat(t,'" does not satisfy minimal required version "').concat(r,'"'))},r.toRGB=e,r}({});
