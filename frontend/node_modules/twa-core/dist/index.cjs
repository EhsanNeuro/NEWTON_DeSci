"use strict";function r(r){return/^#[\da-f]{3}$/i.test(r)}function t(r){return/^#[\da-f]{6}$/i.test(r)}function e(e){var n=e.replace(/\s/g,"");if(t(n))return n;if(r(n)){for(var o="#",a=0;a<3;a++)o+=n[1+a].repeat(2);return o}var s=n.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||n.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(null===s)throw new SyntaxError('Value "'.concat(e,'" does not match any of known RGB formats.'));return s.slice(1).reduce((function(r,t){var e=parseInt(t).toString(16);return r+(1===e.length?"0":"")+e}),"#")}function n(r,t,e){if(e||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return r.concat(n||Array.prototype.slice.call(t))}var o=function(){function r(){this.listeners={},this.globalListeners=[]}return r.prototype.emit=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];this.globalListeners.forEach((function(e){return e.apply(void 0,n([r],t,!1))}));var o=this.listeners[r];void 0!==o&&o.forEach((function(r){return r.apply(void 0,t)}))},r.prototype.emitUnsafe=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];this.emit.apply(this,n([r],t,!1))},r.prototype.on=function(r,t){var e=this.listeners[r];void 0===e?this.listeners[r]=[t]:e.push(t)},r.prototype.off=function(r,t){var e=this.listeners[r];if(void 0!==e){var n=e.indexOf(t);n>=0&&e.splice(n,1)}},r.prototype.subscribe=function(r){this.globalListeners.push(r)},r.prototype.unsubscribe=function(r){var t=this.globalListeners.indexOf(r);t>=0&&this.globalListeners.splice(t,1)},r}();function a(r){return"object"==typeof r&&null!==r&&!Array.isArray(r)}var s=function(r){if("number"!=typeof r)throw new TypeError('Unable to parse "'.concat(r,'" as number'));return r},i=function(r){if("string"!=typeof r)throw new TypeError('Unable to parse "'.concat(r,'" as string'));return r},c=function(r){if("boolean"!=typeof r)throw new TypeError('Unable to parse "'.concat(r,'" as boolean'));return r},p=function(r){return e(i(r))};var u=function(r){if(null!==r&&""!==r){var t=parseInt(r),e=new Date(t.toString()===r?1e3*t:r);if("Invalid Date"!==e.toString())return e}throw new TypeError('Unable to parse value "'.concat(r,'" as Date'))};function f(r,t){for(var e=r.split("."),n=t.split("."),o=Math.max(e.length,n.length),a=0;a<o;a++){var s=parseInt(e[a]||"0"),i=parseInt(n[a]||"0");if(s!==i)return s>i?1:-1}return 0}exports.EventEmitter=o,exports.compareVersions=f,exports.createJsonStructParser=function(r,t){return function(e){if(null==e){if(void 0===t)throw new TypeError("Value is empty.");return t()}var n=e;if("string"==typeof n)try{n=JSON.parse(n)}catch(r){throw new TypeError("Value is not JSON object converted to string.")}if(!a(n))throw new TypeError("Value is not JSON object.");var o={};for(var s in r){var i=r[s],c=i[0],p=i[1];try{var u=p(n[c]);void 0!==u&&(o[s]=u)}catch(r){throw new Error('Unable to parse parameter "'.concat(c,'"'),{cause:r})}}return o}},exports.createSearchParamsStructParser=function(r,t){return function(e){if(null==e){if(void 0===t)throw new TypeError("Value is empty.");return t()}if("string"!=typeof e&&!(e instanceof URLSearchParams))throw new TypeError("Value has unexpected type.");var n="string"==typeof e?new URLSearchParams(e):e,o={};for(var a in r){var s=r[a],i=s[0],c=s[1];try{var p=c(n.get(i));void 0!==p&&(o[a]=p)}catch(r){throw new Error('Unable to parse parameter "'.concat(i,'"'),{cause:r})}}return o}},exports.isColorDark=function(r){return r=e(r),Math.sqrt([.299,.587,.114].reduce((function(t,e,n){var o=parseInt(r.slice(1+2*n,1+2*(n+1)),16);return t+o*o*e}),0))<120},exports.isRGB=t,exports.isRGBShort=r,exports.isRecord=a,exports.log=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var o=new Date,a=Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(o),s=o.getMilliseconds().toString();console[r].apply(console,n(["[".concat(a,".").concat("0".repeat(3-s.length)+s,"]")],t,!1))},exports.parseJsonParamAsBool=c,exports.parseJsonParamAsNum=s,exports.parseJsonParamAsOptBool=function(r){return void 0===r?void 0:c(r)},exports.parseJsonParamAsOptNum=function(r){return void 0===r?null:s(r)},exports.parseJsonParamAsOptRGB=function(r){return void 0===r?r:p(r)},exports.parseJsonParamAsOptString=function(r){return void 0===r?r:i(r)},exports.parseJsonParamAsRGB=p,exports.parseJsonParamAsRecord=function(r){if(!a(r))throw new TypeError('Unable to parse "'.concat(r,'" as Record'));return r},exports.parseJsonParamAsString=i,exports.parseSearchParamAsDate=u,exports.parseSearchParamAsOptDate=function(r){if(null!==r)return u(r)},exports.parseSearchParamAsOptString=function(r){return null===r?void 0:r},exports.parseSearchParamAsString=function(r){if(null===r)throw new TypeError('Unable to parse value "'.concat(r,'" as string.'));return r},exports.requireVersion=function(r,t){if(-1===f(t,r))throw new Error('Version "'.concat(t,'" does not satisfy minimal required version "').concat(r,'"'))},exports.toRGB=e;
