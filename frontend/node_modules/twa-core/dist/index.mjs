function r(r){return/^#[\da-f]{3}$/i.test(r)}function t(r){return/^#[\da-f]{6}$/i.test(r)}function n(n){var e=n.replace(/\s/g,"");if(t(e))return e;if(r(e)){for(var o="#",i=0;i<3;i++)o+=e[1+i].repeat(2);return o}var a=e.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||e.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(null===a)throw new SyntaxError('Value "'.concat(n,'" does not match any of known RGB formats.'));return a.slice(1).reduce((function(r,t){var n=parseInt(t).toString(16);return r+(1===n.length?"0":"")+n}),"#")}function e(r){return r=n(r),Math.sqrt([.299,.587,.114].reduce((function(t,n,e){var o=parseInt(r.slice(1+2*e,1+2*(e+1)),16);return t+o*o*n}),0))<120}function o(r,t,n){if(n||2===arguments.length)for(var e,o=0,i=t.length;o<i;o++)!e&&o in t||(e||(e=Array.prototype.slice.call(t,0,o)),e[o]=t[o]);return r.concat(e||Array.prototype.slice.call(t))}var i=function(){function r(){this.listeners={},this.globalListeners=[]}return r.prototype.emit=function(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.globalListeners.forEach((function(n){return n.apply(void 0,o([r],t,!1))}));var e=this.listeners[r];void 0!==e&&e.forEach((function(r){return r.apply(void 0,t)}))},r.prototype.emitUnsafe=function(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.emit.apply(this,o([r],t,!1))},r.prototype.on=function(r,t){var n=this.listeners[r];void 0===n?this.listeners[r]=[t]:n.push(t)},r.prototype.off=function(r,t){var n=this.listeners[r];if(void 0!==n){var e=n.indexOf(t);e>=0&&n.splice(e,1)}},r.prototype.subscribe=function(r){this.globalListeners.push(r)},r.prototype.unsubscribe=function(r){var t=this.globalListeners.indexOf(r);t>=0&&this.globalListeners.splice(t,1)},r}();function a(r){return"object"==typeof r&&null!==r&&!Array.isArray(r)}var c=function(r){if(!a(r))throw new TypeError('Unable to parse "'.concat(r,'" as Record'));return r},u=function(r){if("number"!=typeof r)throw new TypeError('Unable to parse "'.concat(r,'" as number'));return r},s=function(r){return void 0===r?null:u(r)},f=function(r){if("string"!=typeof r)throw new TypeError('Unable to parse "'.concat(r,'" as string'));return r},l=function(r){return void 0===r?r:f(r)},p=function(r){if("boolean"!=typeof r)throw new TypeError('Unable to parse "'.concat(r,'" as boolean'));return r},h=function(r){return void 0===r?void 0:p(r)},v=function(r){return n(f(r))},y=function(r){return void 0===r?r:v(r)};function d(r,t){return function(n){if(null==n){if(void 0===t)throw new TypeError("Value is empty.");return t()}var e=n;if("string"==typeof e)try{e=JSON.parse(e)}catch(r){throw new TypeError("Value is not JSON object converted to string.")}if(!a(e))throw new TypeError("Value is not JSON object.");var o={};for(var i in r){var c=r[i],u=c[0],s=c[1];try{var f=s(e[u]);void 0!==f&&(o[i]=f)}catch(r){throw new Error('Unable to parse parameter "'.concat(u,'"'),{cause:r})}}return o}}var w=function(r){if(null===r)throw new TypeError('Unable to parse value "'.concat(r,'" as string.'));return r},g=function(r){return null===r?void 0:r},b=function(r){if(null!==r&&""!==r){var t=parseInt(r),n=new Date(t.toString()===r?1e3*t:r);if("Invalid Date"!==n.toString())return n}throw new TypeError('Unable to parse value "'.concat(r,'" as Date'))},m=function(r){if(null!==r)return b(r)};function E(r,t){return function(n){if(null==n){if(void 0===t)throw new TypeError("Value is empty.");return t()}if("string"!=typeof n&&!(n instanceof URLSearchParams))throw new TypeError("Value has unexpected type.");var e="string"==typeof n?new URLSearchParams(n):n,o={};for(var i in r){var a=r[i],c=a[0],u=a[1];try{var s=u(e.get(c));void 0!==s&&(o[i]=s)}catch(r){throw new Error('Unable to parse parameter "'.concat(c,'"'),{cause:r})}}return o}}function T(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var e=new Date,i=Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e),a=e.getMilliseconds().toString();console[r].apply(console,o(["[".concat(i,".").concat("0".repeat(3-a.length)+a,"]")],t,!1))}function U(r,t){for(var n=r.split("."),e=t.split("."),o=Math.max(n.length,e.length),i=0;i<o;i++){var a=parseInt(n[i]||"0"),c=parseInt(e[i]||"0");if(a!==c)return a>c?1:-1}return 0}function S(r,t){if(-1===U(t,r))throw new Error('Version "'.concat(t,'" does not satisfy minimal required version "').concat(r,'"'))}export{i as EventEmitter,U as compareVersions,d as createJsonStructParser,E as createSearchParamsStructParser,e as isColorDark,t as isRGB,r as isRGBShort,a as isRecord,T as log,p as parseJsonParamAsBool,u as parseJsonParamAsNum,h as parseJsonParamAsOptBool,s as parseJsonParamAsOptNum,y as parseJsonParamAsOptRGB,l as parseJsonParamAsOptString,v as parseJsonParamAsRGB,c as parseJsonParamAsRecord,f as parseJsonParamAsString,b as parseSearchParamAsDate,m as parseSearchParamAsOptDate,g as parseSearchParamAsOptString,w as parseSearchParamAsString,S as requireVersion,n as toRGB};
